# U.toGo开发目标

---

## 预期架构

1. ### 核心对象——任务清单(Tasklist)
  
  - 节点：存放任务清单内容的结构体(对象)，可能包括以下内容（待讨论）（长名称可适当缩写）：
  
  | 成员  | 描述  | 类型  | 取值/长度/格式 | 备注  |
  | --- | --- | --- | --- | --- |
  | `tid` | 任务编号(`task_id`)：区分每个任务的唯一属性 | `uint32_t`，可考虑`char[]` | $[0,2^{32})$ |     |
  | `ttype` | 任务类型(`task_type`)。<br/>U.toGo里不同类型的任务各自有不同的属性与操作方法。 | `int`或者`char[]` | <u>待讨论</u> |     |
  | `dueDate` | 截止日期(项目/重大事件型) / 提醒日期(事件型) / 执行日期(限时任务) | `char[]`字符串或`int[3]`数组 | yy-mm-dd;type-mm-dd<待讨论> |     |
  | `dueTime` | 截止时间 | `int[3] = {hour, minute, second}`数组(也可用`char[4]`，末位留空) | 0 : 00 : 00 - 23 : 59 : 59 |     |
  | `timeAhead` | 截止时间之前会进行一次“最后通牒”，这是“最后通牒”与截止时间的间隔 | 与`dueTime`类型相同<br/>（简记为`typeof(dueTime)`） | --- |     |
  | `name` | 任务的名称 | `char[192]` | 1-192B<br/>(不能为空) | 最大汉字字符数为64<br/>(`UTF-8`一个汉字占3字节) |
  | `description` | 任务描述文字<br/>(开挂功能可以使用Markdown) | `char*`字符串,使用时要动态分配 | 0 - 12KB | 最大汉字字符数为4096 |
  | `privData` | 不同类型对应的私有数据 | `void *`指针，类型由`ttype`决定 | --- |     |
  
  - 节点的类型与私有数据（待讨论）<!--（读作：C语言面向对象）-->

- 节点的组织形式
  
  为方便反向查找，使用双链表（即每个节点有一个向前指的指针和一个向后指的指针）；链表的头节点放空。一串任务清单链表可以由以下几个属性确定：
  
  | 属性  | 描述  | 类型(`<Tasklist>`表示名字自取) | 备注  |
  | --- | --- | --- | --- |
  | `head` | 头节点指针 | `struct <Tasklist> *` |     |
  | `tail` | 尾节点指针 | `struct <Tasklist> *` | --非必要-- |
  | `current` | 指示当前位置的指针 | `struct <Tasklist> *` | --非必要-- |
  | `count` | 链表元素数量 | `int` | --非必要-- |
  |     |     |     |     |
  
  另外，还有这些用户需要的属性：
  
  | 属性  | 描述  | 类型  | 备注  |
  | --- | --- | --- | --- |
  | `name` |     |     |     |
  | ... |     |     |     |
  
  因此，可以使用包含以上属性中一个或几个的结构体来代表这串链表。
  
- 链表的操作函数（清单对象的方法）（`Medi注：我到底该写函数原型呢，还是不写？`）
  
  - 内容操作
    
    - 全部初始化:
- 链表操作
  
  - 新增
    
  - 删除
    
  - 调换两节点的顺序
    
  - 排序
    
  - 搜索
    
    - 按节点内容:
      
    - 按节点顺序:
      
  - ...
    
- 链表结构体的操作
  

### 架构图

2. （原文件见[`arch/utogo_arch.drawio.html`](arch/utogo_arch.drawio.html)）

## 功能列表

### 后端(数据管理与后台进程)

- 任务清单数据
  
  - [ ] `B` 任务清单结构体及其操作函数
    
  - [ ] `B`
    
- 接口:
  
  - [ ] `B` 任务清单结构体及其操作函数
    
  - [ ] `B`
    
  - [ ] 
    

### 前端(用户界面)

## 开发周期

见[dev-cycle.md].